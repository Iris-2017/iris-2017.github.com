<!DOCTYPE html> 
<html lang="en"> 
<head> 
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0 user-scalable=yes" /> 
    <!--<script type="text/javascript" src="../css/develope/jquery.js"></script> -->
    <link href="css/prettify.css" type="text/css" rel="stylesheet" /> 
    <script src="js/prettify.js"></script> 
<!--[if lt IE 9]>
      <script src="https://cdn.bootcss.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <title>云途开发文档</title> 
    <meta name="description" content=""> 
    <meta name="author" content="">
    <!--<script src="js/jquery.js"></script>-->
    <link rel="stylesheet" type="text/css" href="css/zui.min.css">
    <script src="js/zui.min.js"></script>
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/jquery.tocify.css" rel="stylesheet"> 
    <link href="css/develop.css" rel="stylesheet"> 
    <script src="js/jquery-1.11.2.min.js"></script>
    <script src="js/jquery-ui-1.9.1.custom.min.js"></script>

    <script src="js/bootstrap.js"></script>
    <script src="js/jquery.tocify.min.js"></script>
    <link rel="stylesheet" href="css/main.css"/>
    <link rel="stylesheet" href="css/youaresuperman.css"/>
    <!--<link href="../css/develope/css/example.css" rel="stylesheet"> -->
    <style>

        p { 
            font-size: 16px; 
        } 

        .table th{ 
            text-align: center; 
        } 
        .table tr td{ 
            text-align: center; 
        } 
        .table .left{ 
            text-align: left; 
        } 
        p{ 
            font-size: 15px; 
        }
        @media (max-width: 767px) {
            #toc {
                /*position: relative;
                width: 100%;
                margin: 0px 0px 20px 0px;*/
                display: none;
            }
            .dd{
                width: 100px;
            }
            p{
                font-size: 10px;
            }
            h2 {
                font-size: 20px;
                line-height: 30px;
            }
            h3 {
                font-size: 16px;
                line-height: 30px;
            }
            h4 {
                font-size: 14px;
                line-height: 20px;
            }
        }


        h2 { 
            font-size: 30px; 
            line-height: 40px; 
        } 
        h3 { 
            font-size: 24px; 
            line-height: 40px; 
        } 
        h4 { 
            font-size: 18px; 
            line-height: 20px; 
        } 
        .span9 > p {
            margin: 0; 
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; 
            font-size: 15px; 
            line-height: 20px; 
            color: #333333; 
            background-color: #ffffff; 
        }
        .tocify-extend-page{
            display: none!important;
        }
        .modal-backdrop.in {
            /*filter: alpha(opacity=50);*/
            opacity: 0.4;
        }
        .navbar-nav > li > a,
        .navbar-brand, .navbar-nav > li > a:visited
        {
            min-width: 50px;
            /*color: #000;*/
            font-size: 18px;
        }
        .navbar-nav > li > a:hover{
            background: #fff;
            color:#03A9F4;
        }

    </style> 
</head> 
<body >

<header>
        <div id="header">
            <div id="logo">
                <div id="header_img"><img src="image/index/logo.png" alt="" /></div>
            </div>
            <nav>
                <ul>
                    <li><a href="./index.html#page1">首页</a></li>
                    <li><a href="./index.html#page6">产品</a></li>
                    <li><a href="./index.html#page8">案例</a></li>
                    <li><a href="./index.html#page9">价格</a></li>
                    <li><a href="./index.html#page10">文档</a></li>
                    <li><a href="./index.html#page14">博客</a></li>
                    <li><a href="./index.html#page16">帮助</a></li>
                </ul>
            </nav>
            <div id="login">
                <a href="">登录</a>
                <a href="">注册</a>
            </div>
            <div id="change">
                <a href="">中&nbsp;&nbsp;</a>/
                <a href="">英</a>
            </div>

        </div>
    </header>

<!--<div class="center-block" style="width: 100%;">
        <img src="image/developer_banner .png"> 
    </div> -->
<div class="container-fluid" style="margin-bottom: 250px;"> 
    <div class="row-fluid" > 
        <div class="span3" >
            <div id="toc" style="position:fixed;top:65px;"> 
            </div><!--/.well --> 
        </div><!--/span--> 
        <div class="span9" style="margin-top:65px;">
            <h2><strong>概述</strong></h2> 
            <br> 
            <p> 
                欢迎您成为云途开放平台的开发者。<br><br> 
                云途是基于云技术，提供基础数据传输、交换和控制的平台。跨网络的数据传输机制和全网络的覆盖实现了网络间 
                安全便捷的通讯，自动选择最佳路径降低网络负荷，平衡服务器负载，实现了智能化的数据传输。云途为快捷的搭 
                建业务平台提供了支持，并提供数据加密和压缩从而保证业务数据的安全性和传输效率。<br><br> 
                开发可以通过以下方式了解关于云途的消息：<br> 
                <a href="./bbs">开发者论坛</a> 
            </p> 
 
            <br> 
            <h2><strong>快速开发指南</strong></h2> 
            <h3><strong>一、注册成为云途第三方开发者</strong></h3> 
            <h4><strong>1.1、需要提供的数据项</strong></h4> 
            <p> 
                点击<a href="./main">注册</a>，填入电子邮箱、用户名称、密码、企业名称。 
            </p> 
            <br> 
            <h4><strong>2.1、登录</strong></h4> 
            <p> 
                云途用户注册后，<a href="./main">登录</a>进入个人中心，在消息管理中创建自己的消息类型，消息类型的格式： 
                <b>@消息类型@,</b> 
                创建好消息类型后进入证书管理，下载证书，此证书作为后面开发的证书。 
            </p> 
            <br> 
            <h3><strong>二、创建自己的应用</strong></h3> 
            <h4><strong>2.1、引入云途SDK</strong></h4> 
            <p> 
                引入<a href="/static/www/cmb/download/cmb.1.0.js">cmb.1.0.js</a>。 
            </p> 
            <br> 
            <h4><strong>2.2、定义证书</strong></h4> 
            <p> 
                把申请的证书信息作为全局变量定义，如下：<br> 
    <pre> 
        var cert = { 
            "check" : "6a01f4a52c71c0f018d45d3ea8e307fe", 
            "info" : { 
                "cmb" : { 
                "id" : "{61C4DA8C-2BEA-4103-942A-A074F7CC6A6B}", 
                "ip" : "127.0.0.1", 
                "notify" : "@cmb_test@", 
                "subscribe" : "@cmb_test@", 
                "user" : 5, 
                "valid" : "2016-12-31" 
                } 
            } 
        }; 
    </pre> 
            </p> 
            <br> 
            <h4><strong>2.3、创建socket连接</strong></h4> 
            <p> 
                定义socket初始化方法，连接成功的回调函数执行注册sck.register(cert)<br> 
    <pre> 
        Var sck=null; 
        function init(){ 
            sck = new cmb.ws.websocket('',cert, 
            function(event){ 
                document.getElementById("responses").innerHTML = "初始化成功!"; 
                sck.register(cert); 
            },function(event){ 
                //收到消息后处理 
                document.getElementById("responses").innerHTML += "&lt;br\&gt;收到消息：" + event.data; 
            },function(event){ 
                //关闭连接后处理 
                document.getElementById("responses").innerHTML += "&lt;br\&gt;" + event.data; 
            },function(event){ 
                //出现错误后处理 
                document.getElementById("responses").innerHTML += "&lt;br\&gt;" + event.data; 
            }); 
        } 
    </pre> 
            </p> 
            <br> 
            <h4><strong>2.4、定义基本消息处理方法</strong></h4> 
            <p> 
                消息发送方法：<br> 
    <pre> 
        function send_msg(){ 
            var note = document.getelementbyid("msg").value; 
            var msg = { 
            "note":note 
            }; 
            sck.uploadmsg(msg,"@cmb_test@"); 
            document.getelementbyid("send").innerhtml += "&lt;br\&gt;发送的消息：" + json.stringify(msg); 
        } 
            socket断开方法： 
            function close() 
            { 
                sck.close(); 
            }; 
    </pre> 
            </p> 
            <h4><strong>2.5、业务逻辑处理</strong></h4> 
            <p> 
                在接收消息的回调方法中处理自己的数据接收业务逻辑，在发送消息的方法中处理自己的数据上报逻辑， 
                也可以根据具体的应用在服务端处理数据上报或者接收。 
            </p> 
            <br> 
            <h2><strong>开发文档</strong></h2> 
            <h3><strong>一、范围</strong></h3> 
            <p> 
                云途开发文档（以下简称本文档）描述第三方通过Websocket接入云途的流程和消息体定义。 
            </p> 
            <br> 
            <h3><strong>二、术语和定义</strong></h3> 
            <p> 
                客户端：本文档中的客户端指通过Websocket连接到云途的对象。 
            </p> 
            <p> 
                服务器：本文档中的服务器指提供Websocket服务的云途。 
            </p> 
            <br> 
            <h3><strong>三、消息体规范</strong></h3> 
            <p> 
                本文档中的消息体使用JSON字符串进行协议封装，格式如下： 
            </p> 
    <pre> 
        { 
            “method”:”消息种类”, 
            “type”:”消息类型描述”, 
            “call_id”:”全局唯一标示uuid”, 
            “from”:”消息产生方”, 
            “to”:”消息接收方”, 
            ”info”:”消息内容” 
        } 
    </pre> 
            <table  class="table table-bordered"> 
                <tr> 
                    <th width="30%">字段名</th> 
                    <th>说明</th> 
                </tr> 
                <tr> 
                    <td>method</td> 
                    <td class="left"> 
                        可取值为”NOTIFY”,”INFO”,”REGISTER”。<br> 
                        “NOTIFY”：表示通知消息，包括广播、推送、状态上报等，不需要响应消息；<br> 
                        “INFO”:表示除注册、通知外的消息，包括命令下发，信息查询等；<br> 
                        “REGISTER”:表示注册、订阅消息。 
                    </td> 
                </tr> 
                <tr> 
                    <td>type</td> 
                    <td class="left">表示具体的操作，参见<a href="#消息体定义">消息体定义。</a></td> 
                </tr> 
                <tr> 
                    <td>call_id</td> 
                    <td class="left">会话标示，生命周期为其操作开始至操作结束，如注册请求和注册响应的会话标示是一致的，为保证消息唯一性，建议采用GUID进行生成。</td> 
                </tr> 
                <tr> 
                    <td>from,to</td> 
                    <td class="left">具体参见<a href="#消息体定义">消息体定义。</a> </td> 
                </tr> 
                <tr> 
                    <td>info</td> 
                    <td class="left">具体参见<a href="#消息体定义">消息体定义。</a> </td> 
                </tr> 
            </table> 
            <p> 
                注： 
            <ol>1.整体消息长度不应超过10M字节，超过10M的数据请自行做分包处理。</ol> 
            <ol>2.发送二进制数据如文件等时请先转换成字符串。</ol> 
            </p> 
            <br> 
            <h3><strong>四、通讯流程</strong></h3> 
            <img src=""/> 
            <p> 
                注：注册成功后通过发送心跳消息保持连接，心跳间隔范围为10秒-60秒，3分钟内未收到心跳则断开连接。 
            <p> 
                <br> 
            <h3 id="消息体定义"><strong>五、消息体定义</strong></h3> 
            <h4 id="注册"><strong>5.1、注册</strong></h4> 
            <h5 id="注册请求"><strong>5.1.1、注册请求</strong></h5> 
            <p> 
                消息流转方向：客户端至服务器。 
            </p> 
    <pre> 
        method:“REGISTER”, 
        type:“register_req”, 
        call_id:“xxx” 
        info:{ 
            “certificate”:数字签名 
        } 
    </pre> 
            <h5><strong>5.1.1、注册响应</strong></h5> 
            <p> 
                消息流转方向：服务器至客户端至。 
            </p> 
    <pre> 
        method:“REGISTER”, 
        type:“register_resp”, 
        call_id: “xxx” 
        Info:{ 
            “result”:参见错误代码” 
            session_id”:”客户端ID”//服务器根据客户端链接生成的唯一编号 
        } 
    </pre> 
            <br> 
            <h4 id="重连"><strong>5.2、重连</strong></h4> 
            <h5 id="重连请求"><strong>5.2.1、重连请求</strong></h5> 
            <p> 
                消息流转方向：客户端至服务器。 
            </p> 
    <pre> 
        method:“REGISTER”, 
        type: “resume_req”, 
        call_id: “xxx” 
        info:{ 
            “certificate”:数字签名, 
            “session_id”:上次成功登陆的客户端ID 
        }//数字签名 
    </pre> 
            <h5 id="重连响应"><strong>5.2.1、重连响应</strong></h5> 
            <p> 
                消息流转方向：服务器至客户端。 
            </p> 
    <pre> 
        method: “REGISTER”, 
        type: “resume_resp”, 
        call_id: “xxx” 
        Info:{ 
            “result”:参见错误代码 
        } 
    </pre> 
            <br> 
            <h4 id="心跳"><strong>5.3、心跳</strong></h4> 
            <h5 id="客户端心跳"><strong>5.3.1、客户端心跳</strong></h5> 
            <p> 
                消息流转方向：客户端至服务器。 
            </p> 
    <pre> 
        method: “INFO”, 
        from:”客户端ID”, 
        type:“heart_beat”, 
        call_id:“xxx” 
    </pre> 
            <h5 id="服务器心跳"><strong>5.3.2、服务器心跳</strong></h5> 
            <p> 
                消息流转方向：服务器至客户端。 
            </p> 
    <pre> 
        method: “INFO”, 
        to:”客户端ID” 
        type:“heart_beat”, 
        call_id:“xxx” 
    </pre> 
            <br> 
            <h4 id="订阅"><strong>5.4、订阅</strong></h4> 
            <h5 id="订阅请求"><strong>5.4.1、订阅请求</strong></h5> 
            <p> 
                消息流转方向：客户端至服务器。 
            </p> 
    <pre> 
        method:“REGISTER”, 
        type:“subscribe_req”, 
        from:”客户端ID”, 
        call_id: “xxx”, 
        info:{ 
            “subscribe”:””//订阅内容，格式为”编号@类型@域”，如”@gps@hz.zj”，多类订阅 
                              以”;”分割，如”@gps@hz.zj;@gps@nb.zj”，订阅采用覆盖的方式， 
                              即以最后一次订阅消息中的订阅内容为准。 
                              订阅内容为空则表示取消订阅。 
                              //各字段描述如下： 
                              //编号：以正则表达式描述的业务编号，可以为空 
                              //类型：需要订阅的数据类型，不能为空，支持通配符，如gps、cmb* 
                              //域：需要订阅的数据所在的域，可以为空，如hz.zj 
        } 
    </pre> 
            <h5 id="订阅响应"><strong>5.4.2、订阅响应</strong></h5> 
            <p> 
                消息流转方向：服务器至客户端。 
            </p> 
    <pre> 
        method:“REGISTER”, 
        type:“subscribe_resp”, 
        to:”客户端ID”, 
        call_id: “xxx” 
        info:{ 
            “result”:参见错误代码 
        } 
    </pre> 
            <br> 
            <h4 id="通知消息"><strong>5.5、通知消息</strong></h4> 
            <p>消息流转方向：客户端至服务器、服务器至客户端</p> 
    <pre> 
        method:“NOTIFY”, 
        type:“通知类型”,//格式为”编号@类型@域”，如”@gps@zj.hz”，可参考订阅请求中的订阅内容 
        from:”客户端ID”, 
        call_id:”xxx”, 
        info:{}//消息内容取决于通知类型，云途对消息内容不做约定，符合JSON格式即可。 
        通知消息返回 
    </pre> 
            <br> 
            <h4 id="点对点消息"><strong>5.5、点对点消息</strong></h4> 
            <p>消息流转方向：客户端至服务器、服务器至客户端</p> 
    <pre> 
        method: “INFO”, 
        type:“消息类型”,//自定义，不做约定 
        from:”接收客户端ID”, 
        to:”发送客户端ID” 
        call_id:”xxx”, 
        info:{}//消息内容取决于通知类型，云途对消息内容不做约定，符合JSON格式即可。 
    </pre> 
            <br> 
            <h3 id="错误代码"><strong>六、错误代码</strong></h3> 
            <h4 id="通用"><strong>6.1、通用</strong></h4> 
            <table class="table table-bordered"> 
                <tr> 
                    <th>错误定义</th> 
                    <th>错误代码</th> 
                    <th>说明</th> 
                </tr> 
                <tr> 
                    <td>成功</td> 
                    <td>0x0000</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>错误的消息内容</td> 
                    <td>0x0001</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>错误的参数</td> 
                    <td>0x0002</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>IP地址不可达</td> 
                    <td>0x0003</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>未初始化</td> 
                    <td>0x0004</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>证书未加载</td> 
                    <td>0x0005</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>未知错误</td> 
                    <td>0xFFFF</td> 
                    <td></td> 
                </tr> 
            </table> 
            <h4 id="Websocket服务相关"><strong>6.2、Websocket服务相关</strong></h4> 
            <table class="table table-bordered"> 
                <tr> 
                    <th>错误定义</th> 
                    <th>错误代码</th> 
                    <th>说明</th> 
                </tr> 
                <tr> 
                    <td>未指定错误</td> 
                    <td>0x7000</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>错误的客户端ID</td> 
                    <td>0x7001</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>客户端未注册</td> 
                    <td>0x7002</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>服务器拒绝</td> 
                    <td>0x7003</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>用户数限制</td> 
                    <td>0x7004</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>客户端已注册</td> 
                    <td>0x7005</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>无效的对方ID</td> 
                    <td>0x7006</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>数据内容过大</td> 
                    <td>0x7007</td> 
                    <td></td> 
                </tr> 
            </table> 
            <h4 id="数字证书相关"><strong>6.3、数字证书相关</strong></h4> 
            <table class="table table-bordered"> 
                <tr> 
                    <th width="20%">错误定义</th> 
                    <th width="10%">错误代码</th> 
                    <th width="10%">说明</th> 
                </tr> 
                <tr> 
                    <td>证书内容错误</td> 
                    <td>0x8000</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>证书编号无效</td> 
                    <td>0x8001</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>证书连接地址格式错误</td> 
                    <td>0x8002</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>连接地址无权限</td> 
                    <td>0x8003</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>证书订阅格式错误</td> 
                    <td>0x8004</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>订阅无权限</td> 
                    <td>0x8005</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>证书通知格式错误</td> 
                    <td>0x8006</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>通知无权限</td> 
                    <td>0x8007</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>证书有效期格式错误</td> 
                    <td>0x8008</td> 
                    <td></td> 
                </tr> 
                <tr> 
                    <td>证书已过期</td> 
                    <td>0x8009</td> 
                    <td></td> 
                </tr> 
            </table> 
            <br> 
        </div><!--/span--> 
    </div><!--/row-->
</div><!--/.fluid-container-->
<div class="container-fluid cssbog">
    <div class="bottom1">
        <a href="#" class="home-footer-list-head" target="_blank"> © 2012-2015 杭州皓天信息技术有限公司</a>
        &nbsp;&nbsp;

        <a href="http://www.miitbeian.gov.cn" class="home-footer-list-head" target="_blank">浙ICP备11023927号-1</a>
        访问量：336
    </div>
</div>
<div id="modal-login" class="modal fade">
    <div class="modal-dialog modal-padding modal-width">
        <div class="modal-content" style="padding: 1%">
            <form method="post" id="loginForm" class="form-horizontal " role="form">
                <div class="modal-header">
                    <h1 class="modal-title text-center">登录</h1>
                </div>
                <div class="modal-body ">
                    <div class="form-group " id="error-login"></div>
                    <div class="form-group input-group">
                        <div class="input-group-addon fix-border"><i class="icon icon-user"></i></div>
                        <input type="text" placeholder="用户名" style="height: 27px;" id="login-username" class="form-control">
                    </div>
                    <div class="form-group input-group">
                        <div class="input-group-addon fix-border"><i class="icon icon-key"></i></div>
                        <input type="password" id="login-password" style="height: 27px;" placeholder="密码" class="form-control ">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <input type="submit" class="btn btn-primary" value="登录" data-loading="稍后...">
                </div>
                <input type="hidden" name="_csrf" value="e0c77ac4eec73dbccec02134bde1940909542de3"></form>
        </div>
    </div>
</div>
<div id="modal-signup" class="modal fade">
    <div class="modal-dialog modal-padding modal-width">
        <div class="modal-content" style="padding: 1%">
            <form method="post" id="signupForm" class="form-horizontal " role="form">
                <div class="modal-header">
                    <!--<button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">×</span></button>-->
                    <h1 class="modal-title text-center">注册</h1>
                </div>
                <div class="modal-body ">
                    <div class="form-group " id="error-signup"></div>
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon fix-border"><i class="icon  icon-envelope"></i></span>
                            <input type="text"  style="height: 27px;"placeholder="电子邮箱" id="FCODE" name="FCODE" class="form-control ">
                        </div>
                    </div>
                    <div class="form-group input-group">
                        <div class="input-group-addon fix-border"><i class="icon icon-user"></i></div>
                        <input type="text"  style="height: 27px;" placeholder="用户名" id="FNAME" name="FNAME" class="form-control">
                    </div>
                    <div class="form-group input-group">
                        <div class="input-group-addon fix-border"><i class="icon icon-key"></i></div>
                        <input type="password" style="height: 27px;" name="FPASSWORD" id="FPASSWORD" placeholder="密码" class="form-control ">
                    </div>
                    <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon fix-border"><i class="icon icon-home"></i></span>
                            <input type="text" style="height: 27px;" id="FLDTNAME" name="FLDTNAME" placeholder="企业名称" class="form-control ">
                        </div>
                    </div>
                    <div class="text-center"><strong>创建一个免费帐号，代表您已接受&nbsp;
                        <a href="protocal.html" target="_blank" style="color: #7E7EE5;">云途用户协议。</a></strong></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                    <input type="submit" class="btn btn-primary" value="创建一个新账号" data-loading="稍后...">
                </div>
                <input type="hidden" name="_csrf" value="e0c77ac4eec73dbccec02134bde1940909542de3"></form>
        </div>
    </div>
</div>
<div class="hidden-xs" style="position: fixed;z-index: 9999;right: 5px;top: 800px;">
    <div class="top" style="margin-top:5px;">
        <a href="#"><img id="ev-right-back" style="CURSOR: pointer" border="0" src="image/totop.png"></a>
    </div>
</div>

<script>
    $(function() {
        // $(window).scroll(function () {
        //     // if($(document).scrollTop()< $("#header").height()){
        //     //     $(".tocify").css("position","absolute");
        //     //     $(".tocify").css("top",$("#navbar").height()+10+"px");
        //     // }else{
        //         $(".tocify").css("position","fixed");
        //         $(".tocify").css("top",$("#header").height()+10+'px');
        //     // }
        // })
        var toc = $("#toc").tocify({
            selectors: "h2,h3,h4,h5"
        }).data("toc-tocify");
        prettyPrint();
        $(".optionName").popover({ trigger: "hover" });
    });
</script>
<script>
    (function(){//IE低版本不支持svg矢量图，替换为png图
        var logo =document.getElementById("logo");
        var agent =navigator.userAgent.replace(/\s+/ig,"");
        if(agent.indexOf("MSIE8")!=-1||agent.indexOf("MSIE7")!=-1||agent.indexOf("MSIE6")!=-1||agent.indexOf("MSIE5")!=-1){
            logo.src ="../images/logo_bak.png";
        }
    })();
</script>
</body> 
</html> 